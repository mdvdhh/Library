--// WertUi Library
local WertUi = {}

local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

function WertUi:CreateWindow(config)
    local Window = {}
    local Title = config.Title or "WertUi"
    local CornerRadius = config.Corner or 10

    -- ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = Title
    ScreenGui.Parent = CoreGui
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    -- Main Frame
    local Main = Instance.new("Frame")
    Main.Parent = ScreenGui
    Main.AnchorPoint = Vector2.new(0.5, 0.5)
    Main.Position = UDim2.new(0.5, 0, 0.5, 0)
    Main.Size = UDim2.new(0, 300, 0, 400)
    Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Main.BorderSizePixel = 0
    Main.Active = true
    Main.Draggable = true

    local Corner = Instance.new("UICorner", Main)
    Corner.CornerRadius = UDim.new(0, CornerRadius)

    local UIList = Instance.new("UIListLayout", Main)
    UIList.Padding = UDim.new(0, 6)
    UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIList.SortOrder = Enum.SortOrder.LayoutOrder

    local Padding = Instance.new("UIPadding", Main)
    Padding.PaddingTop = UDim.new(0, 8)

    -- Title
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Parent = Main
    TitleLabel.Text = Title
    TitleLabel.Size = UDim2.new(1, -20, 0, 30)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.TextSize = 18

    -- Section
    function Window:Section(cfg)
        local Sec = Instance.new("TextLabel")
        Sec.Parent = Main
        Sec.Text = cfg.Title or "Section"
        Sec.Size = UDim2.new(1, -20, 0, 26)
        Sec.BackgroundTransparency = 1
        Sec.TextColor3 = Color3.fromRGB(170, 170, 170)
        Sec.Font = Enum.Font.GothamBold
        Sec.TextXAlignment = Enum.TextXAlignment[cfg.TextXAlignment or "Left"]
        Sec.TextSize = cfg.TextSize or 16
        return Sec
    end

    -- Button
    function Window:Button(cfg)
        local Btn = Instance.new("TextButton")
        Btn.Parent = Main
        Btn.Text = cfg.Title or "Button"
        Btn.Size = UDim2.new(1, -20, 0, 32)
        Btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        Btn.Font = Enum.Font.Gotham
        Btn.TextSize = 15

        local Corner = Instance.new("UICorner", Btn)
        Corner.CornerRadius = UDim.new(0, 8)

        Btn.MouseButton1Click:Connect(function()
            pcall(cfg.Callback)
        end)
        return Btn
    end

    -- Toggle
    function Window:Toggle(cfg)
        local Frame = Instance.new("Frame")
        Frame.Parent = Main
        Frame.Size = UDim2.new(1, -20, 0, 32)
        Frame.BackgroundTransparency = 1

        local Btn = Instance.new("TextButton")
        Btn.Parent = Frame
        Btn.Size = UDim2.new(1, -40, 1, 0)
        Btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Btn.Text = cfg.Title or "Toggle"
        Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        Btn.Font = Enum.Font.Gotham
        Btn.TextSize = 15
        Btn.TextXAlignment = Enum.TextXAlignment.Left

        local Corner = Instance.new("UICorner", Btn)
        Corner.CornerRadius = UDim.new(0, 8)

        local Switch = Instance.new("Frame")
        Switch.Parent = Frame
        Switch.Size = UDim2.new(0, 26, 0, 26)
        Switch.Position = UDim2.new(1, -28, 0.5, -13)
        Switch.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        local SwCorner = Instance.new("UICorner", Switch)
        SwCorner.CornerRadius = UDim.new(1, 0)

        local Enabled = false
        Btn.MouseButton1Click:Connect(function()
            Enabled = not Enabled
            TweenService:Create(Switch, TweenInfo.new(0.2), {
                BackgroundColor3 = Enabled and Color3.fromRGB(0, 170, 255) or Color3.fromRGB(60, 60, 60)
            }):Play()
            pcall(cfg.Callback, Enabled)
        end)

        return Frame
    end

    -- Input
    function Window:Input(cfg)
        local Frame = Instance.new("Frame")
        Frame.Parent = Main
        Frame.Size = UDim2.new(1, -20, 0, 32)
        Frame.BackgroundTransparency = 1

        local Box = Instance.new("TextBox")
        Box.Parent = Frame
        Box.Size = UDim2.new(1, 0, 1, 0)
        Box.PlaceholderText = cfg.Placeholder or "Enter text..."
        Box.Text = ""
        Box.TextColor3 = Color3.fromRGB(255, 255, 255)
        Box.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Box.Font = Enum.Font.Gotham
        Box.TextSize = 15

        local Corner = Instance.new("UICorner", Box)
        Corner.CornerRadius = UDim.new(0, 8)

        Box.FocusLost:Connect(function(enter)
            if enter then
                pcall(cfg.Callback, Box.Text)
            end
        end)
        return Frame
    end

    -- Divider
    function Window:Divider()
        local Line = Instance.new("Frame")
        Line.Parent = Main
        Line.Size = UDim2.new(1, -20, 0, 1)
        Line.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
        return Line
    end

    return Window
end

return WertUi
